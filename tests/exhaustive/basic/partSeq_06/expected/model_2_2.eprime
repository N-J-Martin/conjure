language ESSENCE' 1.0

find x_PartitionSequenceAsSet_ExplicitVarSizeWithFlagsR14_Flags: matrix indexed by [int(1..4)] of bool
find x_PartitionSequenceAsSet_ExplicitVarSizeWithFlagsR14_Values_ExplicitBounded_Length:
        matrix indexed by [int(1..4)] of int(0..4)
find x_PartitionSequenceAsSet_ExplicitVarSizeWithFlagsR14_Values_ExplicitBounded_Values:
        matrix indexed by [int(1..4), int(1..4)] of int(1..4)
such that
    and([x_PartitionSequenceAsSet_ExplicitVarSizeWithFlagsR14_Flags[q16] ->
         x_PartitionSequenceAsSet_ExplicitVarSizeWithFlagsR14_Values_ExplicitBounded_Length[q16] = 2
             | q16 : int(1..4)]),
    and([1 =
         sum([toInt(and([x_PartitionSequenceAsSet_ExplicitVarSizeWithFlagsR14_Flags[q12],
                         q13 <= x_PartitionSequenceAsSet_ExplicitVarSizeWithFlagsR14_Values_ExplicitBounded_Length[q12],
                         q1 =
                         x_PartitionSequenceAsSet_ExplicitVarSizeWithFlagsR14_Values_ExplicitBounded_Values[q12, q13];
                             int(1..3)]))
                  | q12 : int(1..4), q13 : int(1..4)])
             | q1 : int(1..4)]),
    and([x_PartitionSequenceAsSet_ExplicitVarSizeWithFlagsR14_Flags[q17] ->
         x_PartitionSequenceAsSet_ExplicitVarSizeWithFlagsR14_Values_ExplicitBounded_Length[q17] >= 1
             | q17 : int(1..4)]),
    and([x_PartitionSequenceAsSet_ExplicitVarSizeWithFlagsR14_Flags[q5 + 1] ->
         x_PartitionSequenceAsSet_ExplicitVarSizeWithFlagsR14_Values_ExplicitBounded_Length[q5] <
         x_PartitionSequenceAsSet_ExplicitVarSizeWithFlagsR14_Values_ExplicitBounded_Length[q5 + 1]
         \/
         x_PartitionSequenceAsSet_ExplicitVarSizeWithFlagsR14_Values_ExplicitBounded_Length[q5] =
         x_PartitionSequenceAsSet_ExplicitVarSizeWithFlagsR14_Values_ExplicitBounded_Length[q5 + 1]
         /\
         x_PartitionSequenceAsSet_ExplicitVarSizeWithFlagsR14_Values_ExplicitBounded_Values[q5, ..] <lex
         x_PartitionSequenceAsSet_ExplicitVarSizeWithFlagsR14_Values_ExplicitBounded_Values[q5 + 1, ..]
             | q5 : int(1..3)]),
    and([x_PartitionSequenceAsSet_ExplicitVarSizeWithFlagsR14_Flags[q6] = false ->
         x_PartitionSequenceAsSet_ExplicitVarSizeWithFlagsR14_Values_ExplicitBounded_Length[q6] = 0 /\
         and([x_PartitionSequenceAsSet_ExplicitVarSizeWithFlagsR14_Values_ExplicitBounded_Values[q6, q14] = 1
                  | q14 : int(1..4)])
             | q6 : int(1..4)]),
    and([x_PartitionSequenceAsSet_ExplicitVarSizeWithFlagsR14_Flags[q7 + 1] ->
         x_PartitionSequenceAsSet_ExplicitVarSizeWithFlagsR14_Flags[q7]
             | q7 : int(1..3)]),
    sum([toInt(x_PartitionSequenceAsSet_ExplicitVarSizeWithFlagsR14_Flags[q8]) | q8 : int(1..4)]) <= 4,
    and([x_PartitionSequenceAsSet_ExplicitVarSizeWithFlagsR14_Flags[q9] ->
         and([q10 > x_PartitionSequenceAsSet_ExplicitVarSizeWithFlagsR14_Values_ExplicitBounded_Length[q9] ->
              x_PartitionSequenceAsSet_ExplicitVarSizeWithFlagsR14_Values_ExplicitBounded_Values[q9, q10] = 1
                  | q10 : int(1..4)])
             | q9 : int(1..4)]),
    and([x_PartitionSequenceAsSet_ExplicitVarSizeWithFlagsR14_Flags[q9] ->
         x_PartitionSequenceAsSet_ExplicitVarSizeWithFlagsR14_Values_ExplicitBounded_Length[q9] <= 4
             | q9 : int(1..4)])

