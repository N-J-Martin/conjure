language ESSENCE' 1.0

find i: int(1..5)
find p_PermutationAsFunction_PermutationFunction_Function1D: matrix indexed by [int(1..5)] of int(1..5)
find j: int(1..5)
branching on [i, p_PermutationAsFunction_PermutationFunction_Function1D, j]
such that
    j =
    [i, catchUndef(p_PermutationAsFunction_PermutationFunction_Function1D[i], 0); int(1..2)]
        [toInt(or([q6 = i | q6 : int(1..5)])) + 1],
    sum([toInt(q13 != p_PermutationAsFunction_PermutationFunction_Function1D[q13]) *
         catchUndef(toInt(q13 != p_PermutationAsFunction_PermutationFunction_Function1D[q13]), 0)
             | q13 : int(1..5)])
    = 3,
    allDiff(p_PermutationAsFunction_PermutationFunction_Function1D),
    and([or([p_PermutationAsFunction_PermutationFunction_Function1D[q3] = q2 | q3 : int(1..5)]) | q2 : int(1..5)])

