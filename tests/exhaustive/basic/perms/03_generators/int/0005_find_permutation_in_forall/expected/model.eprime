language ESSENCE' 1.0

find p_PermutationAsFunction_PermutationFunction_Function1D: matrix indexed by [int(1..4)] of int(1..4)
find s_Explicit_1: matrix indexed by [int(1..3)] of int(1..4)
find s_Explicit_2: matrix indexed by [int(1..3)] of int(1..4)
branching on [p_PermutationAsFunction_PermutationFunction_Function1D, s_Explicit_1, s_Explicit_2]
such that
    and([or([q14 != p_PermutationAsFunction_PermutationFunction_Function1D[q14] /\
             (q14 = s_Explicit_1[q7] /\ p_PermutationAsFunction_PermutationFunction_Function1D[q14] = s_Explicit_2[q7])
                 | q14 : int(1..4)])
             | q7 : int(1..3)]),
    allDiff(p_PermutationAsFunction_PermutationFunction_Function1D),
    and([or([p_PermutationAsFunction_PermutationFunction_Function1D[q3] = q2 | q3 : int(1..4)]) | q2 : int(1..4)]),
    3 = sum([toInt(q1 != p_PermutationAsFunction_PermutationFunction_Function1D[q1]) | q1 : int(1..4)]),
    and([flatten([[s_Explicit_1[q5]; int(1)], [s_Explicit_2[q5]; int(1)]; int(1..2)]) <lex
         flatten([[s_Explicit_1[q5 + 1]; int(1)], [s_Explicit_2[q5 + 1]; int(1)]; int(1..2)])
             | q5 : int(1..2)])

