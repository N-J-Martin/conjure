language ESSENCE' 1.0

find x_PartitionAsSet_ExplicitVarSizeWithMarkerR2_Marker: int(0..4)
find x_PartitionAsSet_ExplicitVarSizeWithMarkerR2_Values_Occurrence: matrix indexed by [int(1..4), int(1..4)] of bool
find x_PartitionAsSet_ExplicitVarSizeWithMarkerR6_Marker: int(0..4)
find x_PartitionAsSet_ExplicitVarSizeWithMarkerR6_Values_ExplicitVarSizeWithDummy:
        matrix indexed by [int(1..4), int(1..4)] of int(1..5)
find x_PartitionOccurrence_NumParts: int(1..4)
find x_PartitionOccurrence_WhichPart: matrix indexed by [int(1..4)] of int(1..4)
find x_PartitionOccurrence_PartSizes: matrix indexed by [int(1..4)] of int(0..4)
find x_PartitionOccurrence_FirstIndex: matrix indexed by [int(1..4)] of int(1..4)
such that
    and([and([q136 <= x_PartitionAsSet_ExplicitVarSizeWithMarkerR2_Marker,
              x_PartitionAsSet_ExplicitVarSizeWithMarkerR2_Values_Occurrence[q136, 2],
              x_PartitionAsSet_ExplicitVarSizeWithMarkerR2_Values_Occurrence[q136, q134];
                  int(1..3)])
         -> 4 = q134 \/ 2 = q134
             | q136 : int(1..4), q134 : int(1..4)]),
    or([and([q145 <= x_PartitionAsSet_ExplicitVarSizeWithMarkerR2_Marker,
             x_PartitionAsSet_ExplicitVarSizeWithMarkerR2_Values_Occurrence[q145, 2],
             x_PartitionAsSet_ExplicitVarSizeWithMarkerR2_Values_Occurrence[q145, q143];
                 int(1..3)])
        /\ q143 = 4
            | q145 : int(1..4), q143 : int(1..4)]),
    or([and([q150 <= x_PartitionAsSet_ExplicitVarSizeWithMarkerR2_Marker,
             x_PartitionAsSet_ExplicitVarSizeWithMarkerR2_Values_Occurrence[q150, 2],
             x_PartitionAsSet_ExplicitVarSizeWithMarkerR2_Values_Occurrence[q150, q148];
                 int(1..3)])
        /\ q148 = 2
            | q150 : int(1..4), q148 : int(1..4)]),
    and([q155 <= x_PartitionAsSet_ExplicitVarSizeWithMarkerR6_Marker /\
         x_PartitionAsSet_ExplicitVarSizeWithMarkerR6_Values_ExplicitVarSizeWithDummy[q155, q156] != 5
         ->
         or([1 = x_PartitionAsSet_ExplicitVarSizeWithMarkerR6_Values_ExplicitVarSizeWithDummy[q155, q156],
             2 = x_PartitionAsSet_ExplicitVarSizeWithMarkerR6_Values_ExplicitVarSizeWithDummy[q155, q156],
             3 = x_PartitionAsSet_ExplicitVarSizeWithMarkerR6_Values_ExplicitVarSizeWithDummy[q155, q156],
             4 = x_PartitionAsSet_ExplicitVarSizeWithMarkerR6_Values_ExplicitVarSizeWithDummy[q155, q156];
                 int(1..4)])
             | q155 : int(1..4), q156 : int(1..4)]),
    or([q165 <= x_PartitionAsSet_ExplicitVarSizeWithMarkerR6_Marker /\
        x_PartitionAsSet_ExplicitVarSizeWithMarkerR6_Values_ExplicitVarSizeWithDummy[q165, q166] != 5
        /\ x_PartitionAsSet_ExplicitVarSizeWithMarkerR6_Values_ExplicitVarSizeWithDummy[q165, q166] = 1
            | q165 : int(1..4), q166 : int(1..4)]),
    or([q171 <= x_PartitionAsSet_ExplicitVarSizeWithMarkerR6_Marker /\
        x_PartitionAsSet_ExplicitVarSizeWithMarkerR6_Values_ExplicitVarSizeWithDummy[q171, q172] != 5
        /\ x_PartitionAsSet_ExplicitVarSizeWithMarkerR6_Values_ExplicitVarSizeWithDummy[q171, q172] = 2
            | q171 : int(1..4), q172 : int(1..4)]),
    or([q177 <= x_PartitionAsSet_ExplicitVarSizeWithMarkerR6_Marker /\
        x_PartitionAsSet_ExplicitVarSizeWithMarkerR6_Values_ExplicitVarSizeWithDummy[q177, q178] != 5
        /\ x_PartitionAsSet_ExplicitVarSizeWithMarkerR6_Values_ExplicitVarSizeWithDummy[q177, q178] = 3
            | q177 : int(1..4), q178 : int(1..4)]),
    or([q183 <= x_PartitionAsSet_ExplicitVarSizeWithMarkerR6_Marker /\
        x_PartitionAsSet_ExplicitVarSizeWithMarkerR6_Values_ExplicitVarSizeWithDummy[q183, q184] != 5
        /\ x_PartitionAsSet_ExplicitVarSizeWithMarkerR6_Values_ExplicitVarSizeWithDummy[q183, q184] = 4
            | q183 : int(1..4), q184 : int(1..4)]),
    alldifferent_except([toInt(q114 <= x_PartitionAsSet_ExplicitVarSizeWithMarkerR2_Marker /\
                               x_PartitionAsSet_ExplicitVarSizeWithMarkerR2_Values_Occurrence[q114, q2])
                         * catchUndef(q2, 0)
                             | q114 : int(1..4), q2 : int(1..4)],
                        0),
    and([q115 <= x_PartitionAsSet_ExplicitVarSizeWithMarkerR2_Marker /\
         q116 <= x_PartitionAsSet_ExplicitVarSizeWithMarkerR2_Marker
         ->
         sum([toInt(x_PartitionAsSet_ExplicitVarSizeWithMarkerR2_Values_Occurrence[q115, q117]) | q117 : int(1..4)]) =
         sum([toInt(x_PartitionAsSet_ExplicitVarSizeWithMarkerR2_Values_Occurrence[q116, q118]) | q118 : int(1..4)])
             | q115 : int(1..4), q116 : int(1..4)]),
    and([q119 <= x_PartitionAsSet_ExplicitVarSizeWithMarkerR2_Marker ->
         sum([toInt(x_PartitionAsSet_ExplicitVarSizeWithMarkerR2_Values_Occurrence[q119, q120]) | q120 : int(1..4)]) >=
         1   | q119 : int(1..4)]),
    and([q6 + 1 <= x_PartitionAsSet_ExplicitVarSizeWithMarkerR2_Marker ->
         x_PartitionAsSet_ExplicitVarSizeWithMarkerR2_Values_Occurrence[q6, ..] <lex
         x_PartitionAsSet_ExplicitVarSizeWithMarkerR2_Values_Occurrence[q6 + 1, ..]
             | q6 : int(1..3)]),
    and([q7 > x_PartitionAsSet_ExplicitVarSizeWithMarkerR2_Marker ->
         and([x_PartitionAsSet_ExplicitVarSizeWithMarkerR2_Values_Occurrence[q7, q11] = false | q11 : int(1..4)])
             | q7 : int(1..4)]),
    x_PartitionAsSet_ExplicitVarSizeWithMarkerR2_Marker <= 4,
    and([q8 <= x_PartitionAsSet_ExplicitVarSizeWithMarkerR2_Marker ->
         sum([toInt(x_PartitionAsSet_ExplicitVarSizeWithMarkerR2_Values_Occurrence[q8, q9]) | q9 : int(1..4)]) <= 4
             | q8 : int(1..4)]),
    4 =
    sum([toInt(q12 <= x_PartitionAsSet_ExplicitVarSizeWithMarkerR2_Marker) *
         catchUndef(sum([toInt(x_PartitionAsSet_ExplicitVarSizeWithMarkerR2_Values_Occurrence[q12, q13])
                             | q13 : int(1..4)]),
                    0)
             | q12 : int(1..4)]),
    alldifferent_except([toInt(q121 <= x_PartitionAsSet_ExplicitVarSizeWithMarkerR6_Marker /\
                               x_PartitionAsSet_ExplicitVarSizeWithMarkerR6_Values_ExplicitVarSizeWithDummy[q121, q122]
                               != 5)
                         *
                         catchUndef(x_PartitionAsSet_ExplicitVarSizeWithMarkerR6_Values_ExplicitVarSizeWithDummy
                                        [q121, q122],
                                    0)
                             | q121 : int(1..4), q122 : int(1..4)],
                        0),
    and([q123 <= x_PartitionAsSet_ExplicitVarSizeWithMarkerR6_Marker /\
         q124 <= x_PartitionAsSet_ExplicitVarSizeWithMarkerR6_Marker
         ->
         sum([toInt(x_PartitionAsSet_ExplicitVarSizeWithMarkerR6_Values_ExplicitVarSizeWithDummy[q123, q126] != 5)
                  | q126 : int(1..4)])
         =
         sum([toInt(x_PartitionAsSet_ExplicitVarSizeWithMarkerR6_Values_ExplicitVarSizeWithDummy[q124, q128] != 5)
                  | q128 : int(1..4)])
             | q123 : int(1..4), q124 : int(1..4)]),
    and([q129 <= x_PartitionAsSet_ExplicitVarSizeWithMarkerR6_Marker ->
         sum([toInt(x_PartitionAsSet_ExplicitVarSizeWithMarkerR6_Values_ExplicitVarSizeWithDummy[q129, q131] != 5)
                  | q131 : int(1..4)])
         >= 1
             | q129 : int(1..4)]),
    and([q19 + 1 <= x_PartitionAsSet_ExplicitVarSizeWithMarkerR6_Marker ->
         x_PartitionAsSet_ExplicitVarSizeWithMarkerR6_Values_ExplicitVarSizeWithDummy[q19, ..] <lex
         x_PartitionAsSet_ExplicitVarSizeWithMarkerR6_Values_ExplicitVarSizeWithDummy[q19 + 1, ..]
             | q19 : int(1..3)]),
    and([q20 > x_PartitionAsSet_ExplicitVarSizeWithMarkerR6_Marker ->
         and([x_PartitionAsSet_ExplicitVarSizeWithMarkerR6_Values_ExplicitVarSizeWithDummy[q20, q63] = 1
                  | q63 : int(1..4)])
             | q20 : int(1..4)]),
    x_PartitionAsSet_ExplicitVarSizeWithMarkerR6_Marker <= 4,
    and([q21 <= x_PartitionAsSet_ExplicitVarSizeWithMarkerR6_Marker ->
         and([x_PartitionAsSet_ExplicitVarSizeWithMarkerR6_Values_ExplicitVarSizeWithDummy[q21, q22] <
              x_PartitionAsSet_ExplicitVarSizeWithMarkerR6_Values_ExplicitVarSizeWithDummy[q21, q22 + 1]
              \/ x_PartitionAsSet_ExplicitVarSizeWithMarkerR6_Values_ExplicitVarSizeWithDummy[q21, q22] = 5
                  | q22 : int(1..3)])
             | q21 : int(1..4)]),
    and([q21 <= x_PartitionAsSet_ExplicitVarSizeWithMarkerR6_Marker ->
         and([x_PartitionAsSet_ExplicitVarSizeWithMarkerR6_Values_ExplicitVarSizeWithDummy[q21, q23] = 5 ->
              x_PartitionAsSet_ExplicitVarSizeWithMarkerR6_Values_ExplicitVarSizeWithDummy[q21, q23 + 1] = 5
                  | q23 : int(1..3)])
             | q21 : int(1..4)]),
    and([q21 <= x_PartitionAsSet_ExplicitVarSizeWithMarkerR6_Marker ->
         sum([toInt(x_PartitionAsSet_ExplicitVarSizeWithMarkerR6_Values_ExplicitVarSizeWithDummy[q21, q24] != 5)
                  | q24 : int(1..4)])
         <= 4
             | q21 : int(1..4)]),
    4 =
    sum([toInt(q27 <= x_PartitionAsSet_ExplicitVarSizeWithMarkerR6_Marker) *
         catchUndef(sum([toInt(x_PartitionAsSet_ExplicitVarSizeWithMarkerR6_Values_ExplicitVarSizeWithDummy[q27, q29] !=
                               5)
                             | q29 : int(1..4)]),
                    0)
             | q27 : int(1..4)]),
    and([q32 <= x_PartitionAsSet_ExplicitVarSizeWithMarkerR6_Marker ->
         or([q35 <= x_PartitionAsSet_ExplicitVarSizeWithMarkerR2_Marker /\
             (and([x_PartitionAsSet_ExplicitVarSizeWithMarkerR2_Values_Occurrence[q35, q36] ->
                   or([x_PartitionAsSet_ExplicitVarSizeWithMarkerR6_Values_ExplicitVarSizeWithDummy[q32, q38] != 5 /\
                       x_PartitionAsSet_ExplicitVarSizeWithMarkerR6_Values_ExplicitVarSizeWithDummy[q32, q38] = q36
                           | q38 : int(1..4)])
                       | q36 : int(1..4)])
              /\
              and([x_PartitionAsSet_ExplicitVarSizeWithMarkerR6_Values_ExplicitVarSizeWithDummy[q32, q40] != 5 ->
                   x_PartitionAsSet_ExplicitVarSizeWithMarkerR2_Values_Occurrence
                       [q35, x_PartitionAsSet_ExplicitVarSizeWithMarkerR6_Values_ExplicitVarSizeWithDummy[q32, q40]]
                       | q40 : int(1..4)]))
                 | q35 : int(1..4)])
             | q32 : int(1..4)]),
    and([q43 <= x_PartitionAsSet_ExplicitVarSizeWithMarkerR2_Marker ->
         or([q46 <= x_PartitionAsSet_ExplicitVarSizeWithMarkerR6_Marker /\
             (and([x_PartitionAsSet_ExplicitVarSizeWithMarkerR6_Values_ExplicitVarSizeWithDummy[q46, q48] != 5 ->
                   x_PartitionAsSet_ExplicitVarSizeWithMarkerR2_Values_Occurrence
                       [q43, x_PartitionAsSet_ExplicitVarSizeWithMarkerR6_Values_ExplicitVarSizeWithDummy[q46, q48]]
                       | q48 : int(1..4)])
              /\
              and([x_PartitionAsSet_ExplicitVarSizeWithMarkerR2_Values_Occurrence[q43, q49] ->
                   or([x_PartitionAsSet_ExplicitVarSizeWithMarkerR6_Values_ExplicitVarSizeWithDummy[q46, q51] != 5 /\
                       x_PartitionAsSet_ExplicitVarSizeWithMarkerR6_Values_ExplicitVarSizeWithDummy[q46, q51] = q49
                           | q51 : int(1..4)])
                       | q49 : int(1..4)]))
                 | q46 : int(1..4)])
             | q43 : int(1..4)]),
    and([q52 <= x_PartitionOccurrence_NumParts -> x_PartitionOccurrence_PartSizes[q52] <= 4 | q52 : int(1..4)]),
    and([q52 > x_PartitionOccurrence_NumParts -> x_PartitionOccurrence_PartSizes[q52] = 0 | q52 : int(1..4)]),
    x_PartitionOccurrence_NumParts <= 4,
    and([q53 <= x_PartitionOccurrence_NumParts -> or([x_PartitionOccurrence_WhichPart[q54] = q53 | q54 : int(1..4)])
             | q53 : int(3..4)]),
    and([q55 <= x_PartitionOccurrence_NumParts ->
         x_PartitionOccurrence_PartSizes[q55 - 1] = x_PartitionOccurrence_PartSizes[q55]
             | q55 : int(2..4)]),
    x_PartitionOccurrence_NumParts = max([x_PartitionOccurrence_WhichPart[q56] | q56 : int(1..4)]),
    and([x_PartitionOccurrence_PartSizes[q57] =
         sum([toInt(x_PartitionOccurrence_WhichPart[q58] = q57) | q58 : int(1..4)])
             | q57 : int(1..4)]),
    and([q59 <= x_PartitionOccurrence_NumParts ->
         and([x_PartitionOccurrence_WhichPart[q60] = q59 -> x_PartitionOccurrence_FirstIndex[q59] <= q60
                  | q60 : int(1..4)])
             | q59 : int(1..4)]),
    and([q59 <= x_PartitionOccurrence_NumParts ->
         or([x_PartitionOccurrence_WhichPart[q60] = q59 /\ x_PartitionOccurrence_FirstIndex[q59] = q60
                 | q60 : int(1..4)])
             | q59 : int(1..4)]),
    and([q59 > x_PartitionOccurrence_NumParts -> x_PartitionOccurrence_FirstIndex[q59] = 1 | q59 : int(1..4)]),
    and([q61 <= x_PartitionOccurrence_NumParts /\ q62 <= x_PartitionOccurrence_NumParts ->
         (q61 < q62 <-> x_PartitionOccurrence_FirstIndex[q61] < x_PartitionOccurrence_FirstIndex[q62])
             | q61 : int(1..4), q62 : int(1..4)]),
    and([q65 <= x_PartitionOccurrence_NumParts ->
         or([q69 <= x_PartitionAsSet_ExplicitVarSizeWithMarkerR2_Marker /\
             (and([x_PartitionAsSet_ExplicitVarSizeWithMarkerR2_Values_Occurrence[q69, q70] ->
                   or([x_PartitionOccurrence_WhichPart[q72] = q65 /\ q72 = q70 | q72 : int(1..4)])
                       | q70 : int(1..4)])
              /\
              and([x_PartitionOccurrence_WhichPart[q74] = q65 ->
                   x_PartitionAsSet_ExplicitVarSizeWithMarkerR2_Values_Occurrence[q69, q74]
                       | q74 : int(1..4)]))
                 | q69 : int(1..4)])
             | q65 : int(1..4)]),
    and([q77 <= x_PartitionAsSet_ExplicitVarSizeWithMarkerR2_Marker ->
         or([q79 <= x_PartitionOccurrence_NumParts /\
             (and([x_PartitionOccurrence_WhichPart[q82] = q79 ->
                   x_PartitionAsSet_ExplicitVarSizeWithMarkerR2_Values_Occurrence[q77, q82]
                       | q82 : int(1..4)])
              /\
              and([x_PartitionAsSet_ExplicitVarSizeWithMarkerR2_Values_Occurrence[q77, q83] ->
                   or([x_PartitionOccurrence_WhichPart[q85] = q79 /\ q85 = q83 | q85 : int(1..4)])
                       | q83 : int(1..4)]))
                 | q79 : int(1..4)])
             | q77 : int(1..4)]),
    and([q87 <= x_PartitionOccurrence_NumParts ->
         or([q91 <= x_PartitionAsSet_ExplicitVarSizeWithMarkerR6_Marker /\
             (and([x_PartitionAsSet_ExplicitVarSizeWithMarkerR6_Values_ExplicitVarSizeWithDummy[q91, q93] != 5 ->
                   or([x_PartitionOccurrence_WhichPart[q95] = q87 /\
                       q95 = x_PartitionAsSet_ExplicitVarSizeWithMarkerR6_Values_ExplicitVarSizeWithDummy[q91, q93]
                           | q95 : int(1..4)])
                       | q93 : int(1..4)])
              /\
              and([x_PartitionOccurrence_WhichPart[q97] = q87 ->
                   or([x_PartitionAsSet_ExplicitVarSizeWithMarkerR6_Values_ExplicitVarSizeWithDummy[q91, q99] != 5 /\
                       x_PartitionAsSet_ExplicitVarSizeWithMarkerR6_Values_ExplicitVarSizeWithDummy[q91, q99] = q97
                           | q99 : int(1..4)])
                       | q97 : int(1..4)]))
                 | q91 : int(1..4)])
             | q87 : int(1..4)]),
    and([q102 <= x_PartitionAsSet_ExplicitVarSizeWithMarkerR6_Marker ->
         or([q104 <= x_PartitionOccurrence_NumParts /\
             (and([x_PartitionOccurrence_WhichPart[q107] = q104 ->
                   or([x_PartitionAsSet_ExplicitVarSizeWithMarkerR6_Values_ExplicitVarSizeWithDummy[q102, q109] != 5 /\
                       x_PartitionAsSet_ExplicitVarSizeWithMarkerR6_Values_ExplicitVarSizeWithDummy[q102, q109] = q107
                           | q109 : int(1..4)])
                       | q107 : int(1..4)])
              /\
              and([x_PartitionAsSet_ExplicitVarSizeWithMarkerR6_Values_ExplicitVarSizeWithDummy[q102, q111] != 5 ->
                   or([x_PartitionOccurrence_WhichPart[q113] = q104 /\
                       q113 = x_PartitionAsSet_ExplicitVarSizeWithMarkerR6_Values_ExplicitVarSizeWithDummy[q102, q111]
                           | q113 : int(1..4)])
                       | q111 : int(1..4)]))
                 | q104 : int(1..4)])
             | q102 : int(1..4)])

