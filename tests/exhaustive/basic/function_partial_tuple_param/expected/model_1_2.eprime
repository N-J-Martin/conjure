language ESSENCE' 1.0

find x_FunctionNDPartial_Flags: matrix indexed by [int(7..8), bool] of bool
find x_FunctionNDPartial_Values: matrix indexed by [int(7..8), bool] of int(13, 17)
find x_FunctionNDPartialDummy: matrix indexed by [int(7..8), bool] of int(13, 17, 12)
given fin1: int
given p_FunctionAsRelation_RelationAsSet_Explicit_1_1: matrix indexed by [int(1..fin1)] of int(7..8)
given p_FunctionAsRelation_RelationAsSet_Explicit_1_2: matrix indexed by [int(1..fin1)] of bool
given p_FunctionAsRelation_RelationAsSet_Explicit_2: matrix indexed by [int(1..fin1)] of int(13, 17)
branching on [x_FunctionNDPartialDummy, x_FunctionNDPartial_Flags, x_FunctionNDPartial_Values]
such that
    fin1 = sum([toInt(x_FunctionNDPartial_Flags[q16_1, q16_2]) | q16_1 : int(7..8), q16_2 : bool]),
    and([x_FunctionNDPartial_Values
             [p_FunctionAsRelation_RelationAsSet_Explicit_1_1[q14],
              p_FunctionAsRelation_RelationAsSet_Explicit_1_2[q14]]
         = p_FunctionAsRelation_RelationAsSet_Explicit_2[q14]
         /\
         x_FunctionNDPartial_Flags
             [p_FunctionAsRelation_RelationAsSet_Explicit_1_1[q14],
              p_FunctionAsRelation_RelationAsSet_Explicit_1_2[q14]]
             | q14 : int(1..fin1)]),
    and([x_FunctionNDPartial_Flags[q17_1, q17_2] ->
         or([p_FunctionAsRelation_RelationAsSet_Explicit_1_1[q19] = q17_1 /\
             p_FunctionAsRelation_RelationAsSet_Explicit_1_2[q19] = q17_2
             /\ p_FunctionAsRelation_RelationAsSet_Explicit_2[q19] = x_FunctionNDPartial_Values[q17_1, q17_2]
                 | q19 : int(1..fin1)])
             | q17_1 : int(7..8), q17_2 : bool]),
    and([x_FunctionNDPartial_Flags[q1_1, q1_2] = false -> x_FunctionNDPartial_Values[q1_1, q1_2] = 13
             | q1_1 : int(7..8), q1_2 : bool]),
    sum([toInt(x_FunctionNDPartialDummy[q9_1, q9_2] != 12) | q9_1 : int(7..8), q9_2 : bool]) =
    sum([toInt(x_FunctionNDPartial_Flags[q11_1, q11_2]) | q11_1 : int(7..8), q11_2 : bool]),
    and([x_FunctionNDPartialDummy[q7_1, q7_2] != 12 ->
         x_FunctionNDPartial_Values[q7_1, q7_2] = x_FunctionNDPartialDummy[q7_1, q7_2] /\
         x_FunctionNDPartial_Flags[q7_1, q7_2]
             | q7_1 : int(7..8), q7_2 : bool]),
    and([x_FunctionNDPartial_Flags[q12_1, q12_2] ->
         x_FunctionNDPartialDummy[q12_1, q12_2] = x_FunctionNDPartial_Values[q12_1, q12_2]
             | q12_1 : int(7..8), q12_2 : bool])

